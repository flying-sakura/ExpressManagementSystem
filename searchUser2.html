<html><head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>用户信息</title>
    <!-- Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/searchUser.css">
    <link rel="stylesheet" href="css/table.css">
    <script type="text/javascript">
        var tempClassName = "";
        function tr_mouseover(obj) {
            tempClassName = obj.className;
            obj.className = "list_mouseover";
        }
        function tr_mouseout(obj) {
            obj.className = tempClassName;
        }
        function CheckAll(obj) {
            var checks = document.getElementsByName("chkid");
            for (var i = 0; i < checks.length; i++) {
                var e = checks[i];
                e.checked = obj.checked;
            }

        }


        function serch() {
            document.info.action = "Admin_listUsers.action";
            document.info.submit();
        }
        function del() {
            var checks = document.getElementsByName("chkid");
            var ids = "";
            for (var i = 0; i < checks.length; i++) {
                var e = checks[i];
                if (e.checked == true) {
                    if (ids == "") {
                        ids = ids + e.value;
                    } else {
                        ids = ids + "," + e.value;
                    }
                }
            }
            if (ids == "") {
                alert("请至少选择一个要删除的用户！");
                return false;
            }
            if (confirm('确认删除吗!?')) {
                document.info.action = "Admin_delUsers.action?paramsUser.ids=" + ids;
                document.info.submit();
            }

        }
        function GoPage() {
            var pagenum = document.getElementById("goPage").value;
            var patten = /^\d+$/;
            if (!patten.exec(pagenum)) {
                alert("页码必须为大于0的数字");
                return false;
            }
            document.getElementById("pageNo").value = pagenum;
            document.info.action = "Admin_listUsers.action";
            document.info.submit();
        }
        function ChangePage(pagenum) {
            document.getElementById("pageNo").value = pagenum;
            document.info.action = "Admin_listUsers.action";
            document.info.submit();
        }
    </script>
</head>
<body>
<form name="info" id="info" action="Admin_listUsers.action" method="post">
    <input type="hidden" name="pageNo" id="pageNo" value="1">
    <div class="serach-group">
        用户名：<input type="text" class="myinput" id="paramsUser.userName" name="paramsUser.userName" value="">
        姓名：<input type="text" class="myinput" id="paramsUser.realName" name="paramsUser.realName" value="">
        <button class="btn btn-sm btn-primary" onclick="serch();">搜索</button>
        <button type="button" class="btn btn-sm btn-danger" onclick="del();">删除选定</button>
    </div>


    <table class="table">
        <caption>用户列表</caption>
        <thead>
        <tr>
            <td><input type="checkbox" onclick="CheckAll(this);" title="全选/取消全选"></td>
            <td>#</td>
            <td>账号</td>
            <td>姓名</td>
            <td>性别</td>
            <td>公司</td>
            <td>地址</td>
            <td>邮箱</td>
            <td>电话</td>
            <td>添加时间</td>
            <td>操作</td>
        </tr>
        </thead>
        <tbody>


        <tr>
            <td><input type="checkbox" name="chkid" value="4" id="chkid" style="vertical-align:text-bottom;">
                <input type="hidden" id="__checkbox_chkid" name="__checkbox_chkid" value="4"> </td>
            <td>1</td>
            <td>chensheng</td>
            <td>陈生</td>
            <td>女</td>
            <td>北京贸易公司&nbsp;</td>
            <td>北京天堂路666号&nbsp;</td>
            <td>chensheng@163.com&nbsp;</td>
            <td>15088888884</td>
            <td>2014-03-01 23:08:44</td>
            <td>
							<span><i class="glyphicon glyphicon-edit"></i>
        					<a data-name="chensheng" data-id="4" data-realname="陈生" data-usersex="女" data-usercompany="北京贸易公司" data-useraddress="北京天堂路666号" data-userphone="15088888884" data-usermail="chensheng@163.com" data-toggle="modal" data-target="#myModal">编辑</a>
      						</span>
            </td>
        </tr>

        <tr>
            <td><input type="checkbox" name="chkid" value="5" id="chkid" style="vertical-align:text-bottom;">
                <input type="hidden" id="__checkbox_chkid" name="__checkbox_chkid" value="5"> </td>
            <td>2</td>
            <td>lichao</td>
            <td>李超</td>
            <td>男</td>
            <td>天津贸易公司&nbsp;</td>
            <td>天津天堂路666号&nbsp;</td>
            <td>lichao@163.com&nbsp;</td>
            <td>15088888887</td>
            <td>2014-03-01 23:08:44</td>
            <td>
							<span><i class="glyphicon glyphicon-edit"></i>
        					<a data-name="lichao" data-id="5" data-realname="李超" data-usersex="男" data-usercompany="天津贸易公司" data-useraddress="天津天堂路666号" data-userphone="15088888887" data-usermail="lichao@163.com" data-toggle="modal" data-target="#myModal">编辑</a>
      						</span>
            </td>
        </tr>

        <tr>
            <td><input type="checkbox" name="chkid" value="6" id="chkid" style="vertical-align:text-bottom;">
                <input type="hidden" id="__checkbox_chkid" name="__checkbox_chkid" value="6"> </td>
            <td>3</td>
            <td>zhangbin</td>
            <td>张斌</td>
            <td>男</td>
            <td>上海贸易公司&nbsp;</td>
            <td>上海天堂路666号&nbsp;</td>
            <td>zhangbin@163.com&nbsp;</td>
            <td>15088888882</td>
            <td>2014-03-01 23:08:44</td>
            <td>
							<span><i class="glyphicon glyphicon-edit"></i>
        					<a data-name="zhangbin" data-id="6" data-realname="张斌" data-usersex="男" data-usercompany="上海贸易公司" data-useraddress="上海天堂路666号" data-userphone="15088888882" data-usermail="zhangbin@163.com" data-toggle="modal" data-target="#myModal">编辑</a>
      						</span>
            </td>
        </tr>

        <tr>
            <td><input type="checkbox" name="chkid" value="7" id="chkid" style="vertical-align:text-bottom;">
                <input type="hidden" id="__checkbox_chkid" name="__checkbox_chkid" value="7"> </td>
            <td>4</td>
            <td>zhaohui</td>
            <td>赵辉</td>
            <td>男</td>
            <td>河北贸易公司&nbsp;</td>
            <td>河北天堂路666号&nbsp;</td>
            <td>zhaohui@163.com&nbsp;</td>
            <td>15088888881</td>
            <td>2014-03-01 23:08:44</td>
            <td>
							<span><i class="glyphicon glyphicon-edit"></i>
        					<a data-name="zhaohui" data-id="7" data-realname="赵辉" data-usersex="男" data-usercompany="河北贸易公司" data-useraddress="河北天堂路666号" data-userphone="15088888881" data-usermail="zhaohui@163.com" data-toggle="modal" data-target="#myModal">编辑</a>
      						</span>
            </td>
        </tr>

        <tr>
            <td><input type="checkbox" name="chkid" value="8" id="chkid" style="vertical-align:text-bottom;">
                <input type="hidden" id="__checkbox_chkid" name="__checkbox_chkid" value="8"> </td>
            <td>5</td>
            <td>zhangweiming</td>
            <td>张伟明</td>
            <td>男</td>
            <td>世纪贸易公司&nbsp;</td>
            <td>世纪天堂路666号&nbsp;</td>
            <td>zhangweiming@163.com&nbsp;</td>
            <td>15088888888</td>
            <td>2014-03-01 23:08:44</td>
            <td>
							<span><i class="glyphicon glyphicon-edit"></i>
        					<a data-name="zhangweiming" data-id="8" data-realname="张伟明" data-usersex="男" data-usercompany="世纪贸易公司" data-useraddress="世纪天堂路666号" data-userphone="15088888888" data-usermail="zhangweiming@163.com" data-toggle="modal" data-target="#myModal">编辑</a>
      						</span>
            </td>
        </tr>

        <tr>
            <td><input type="checkbox" name="chkid" value="9" id="chkid" style="vertical-align:text-bottom;">
                <input type="hidden" id="__checkbox_chkid" name="__checkbox_chkid" value="9"> </td>
            <td>6</td>
            <td>likunlun</td>
            <td>李昆仑</td>
            <td>男</td>
            <td>河南贸易公司&nbsp;</td>
            <td>河南天堂路666号&nbsp;</td>
            <td>likunlun@163.com&nbsp;</td>
            <td>15088888888</td>
            <td>2014-03-01 23:08:44</td>
            <td>
							<span><i class="glyphicon glyphicon-edit"></i>
        					<a data-name="likunlun" data-id="9" data-realname="李昆仑" data-usersex="男" data-usercompany="河南贸易公司" data-useraddress="河南天堂路666号" data-userphone="15088888888" data-usermail="likunlun@163.com" data-toggle="modal" data-target="#myModal">编辑</a>
      						</span>
            </td>
        </tr>

        <tr>
            <td><input type="checkbox" name="chkid" value="10" id="chkid" style="vertical-align:text-bottom;">
                <input type="hidden" id="__checkbox_chkid" name="__checkbox_chkid" value="10"> </td>
            <td>7</td>
            <td>lijing</td>
            <td>李静</td>
            <td>女</td>
            <td>湖南贸易公司&nbsp;</td>
            <td>湖南天堂路666号&nbsp;</td>
            <td>lijing@163.com&nbsp;</td>
            <td>15088888886</td>
            <td>2014-03-01 23:08:44</td>
            <td>
							<span><i class="glyphicon glyphicon-edit"></i>
        					<a data-name="lijing" data-id="10" data-realname="李静" data-usersex="女" data-usercompany="湖南贸易公司" data-useraddress="湖南天堂路666号" data-userphone="15088888886" data-usermail="lijing@163.com" data-toggle="modal" data-target="#myModal">编辑</a>
      						</span>
            </td>
        </tr>

        <tr>
            <td><input type="checkbox" name="chkid" value="11" id="chkid" style="vertical-align:text-bottom;">
                <input type="hidden" id="__checkbox_chkid" name="__checkbox_chkid" value="11"> </td>
            <td>8</td>
            <td>zhangyongle</td>
            <td>张勇乐</td>
            <td>男</td>
            <td>湖北贸易公司&nbsp;</td>
            <td>湖北天堂路666号&nbsp;</td>
            <td>zhangyongle@163.com&nbsp;</td>
            <td>15088888887</td>
            <td>2014-03-01 23:08:44</td>
            <td>
							<span><i class="glyphicon glyphicon-edit"></i>
        					<a data-name="zhangyongle" data-id="11" data-realname="张勇乐" data-usersex="男" data-usercompany="湖北贸易公司" data-useraddress="湖北天堂路666号" data-userphone="15088888887" data-usermail="zhangyongle@163.com" data-toggle="modal" data-target="#myModal">编辑</a>
      						</span>
            </td>
        </tr>



        </tbody>
    </table>



    <table width="95%" align="center" cellpadding="0" cellspacing="0">
        <tbody><tr><td colspan="2" height="5px"></td></tr>
        <tr>
            <td width="50%" style="text-align:right;padding-right:5px;">共 8 条，第 1/1 页</td>
            <td width="50%" style="text-align:right;padding-right:5px;">


                &nbsp;　首页
                &nbsp;前页



                &nbsp;后页
                &nbsp;末页

                &nbsp;　<input type="text" name="goPage" id="goPage" class="inputpagestyle">
                &nbsp;<input type="button" value="GO" onclick="GoPage();" class="btnstyle">
            </td>
        </tr>
        </tbody></table>


</form>

<!-- 模态框（Modal） -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="modal-title" id="myModalLabel">编辑用户</h4>
            </div>
            <div class="modal-body">
                <form id="info1" name="info1" action="Admin_addUser.action" method="post">
                    <input type="hidden" name="paramsUser.userId" value="123frd" id="paramsUser.userId">
                    <label style="color:red"></label><table width="100%" align="center" cellpadding="1" cellspacing="1" class="editbody">
                    <tbody>
                    <tr>
                        <td width="15%" align="right" style="padding-right:5px"><font color="red">*</font> 账号：</td>
                        <td width="35%"><input type="text" class="name" disabled=""></td>
                        <td width="15" align="right" style="padding-right:5px"><font color="red">*</font> 密码：</td>
                        <td width="35"><input type="password" name="paramsUser.userPass" value="111111" id="paramsUser.userPass" class="form-control">
                            <span id="passTip" style="color:red;">初始密码：111111</span>
                        </td>

                    </tr>
                    <tr>
                        <td align="right" style="padding-right:5px"><font color="red">*</font> 姓名：</td>
                        <td><input type="text" name="paramsUser.realName" id="paramsUser.realName" class="realname">
                        </td>
                        <td align="right" style="padding-right:5px"><font color="red">*</font> 性别：</td>
                        <td><label class="radio-inline"><input type="radio" id="sex1" name="paramsUser.userSex" value="1">男</label>
                            <label class="radio-inline"><input type="radio" id="sex2" name="paramsUser.userSex" value="2">女</label></td>
                    </tr>
                    <tr>
                        <td align="right" style="padding-right:5px">公司：</td>
                        <td><input type="text" name="paramsUser.userCompany" id="paramsUser.userCompany" class="company"></td>
                        <td align="right" style="padding-right:5px">地址：</td>
                        <td><input type="text" name="paramsUser.userAddress" id="paramsUser.userAddress" class="address"></td>
                    </tr>
                    <tr>
                        <td align="right" style="padding-right:5px">邮箱：</td>
                        <td><input type="text" name="paramsUser.userMail" id="paramsUser.userMail" class="mail"></td>
                        <td align="right" style="padding-right:5px">电话：</td>
                        <td><input type="text" name="paramsUser.userPhone" id="paramsUser.userPhone" class="phone"></td>

                    </tr>
                    </tbody>

                </table>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭
                </button>
                <button type="button" class="btn btn-primary" onclick="update()">提交更改</button>
            </div>
        </div>
        <!-- /.modal-content -->

        <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
        <script src="http://cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script>
        <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
        <script src="http://cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>





        <script type="text/javascript">
            //触发模态框的同时调用此方法
            var id = 0;

            jQuery('#myModal').on('show.bs.modal',function(event){
                if(!event.relatedTarget){return;}
                var button = jQuery(event.relatedTarget);
                var name = button.data("name");
                var realName = button.data("realname");
                var userSex = button.data("usersex");
                var company = button.data("usercompany");
                var address = button.data("useraddress");
                var phone = button.data("userphone");
                var mail = button.data("usermail");
                id = button.data('id');

                console.log(id +' '+name+" "+realName+" "+userSex+" "+company+" "+address+" "+phone+" "+mail)

                var that = this;
                jQuery(that).find('.name').val(name);
                jQuery(that).find('.realname').val(realName);
                //jQuery(that).find('.sex').text(name);
                jQuery(that).find('.company').val(company);
                jQuery(that).find('.address').val(address);
                jQuery(that).find('.phone').val(phone);
                jQuery(that).find('.mail').val(mail);


                if (userSex == "男"){
                    $('#sex2').prop('checked',false);
                    $('#sex1').prop('checked',true);
                    console.log( userSex == "男");
                    console.log("男")
                }else{
                    $('#sex1').prop('checked',false);
                    $('#sex2').prop('checked',true);
                    console.log( userSex == "女");
                    console.log("女");
                };

            });

            //提交更改
            function update() {
                console.log(id+"绑定的id")

                document.getElementById("paramsUser.userId").setAttribute("value",id);

                var Nid = document.getElementById("paramsUser.userId").getAttribute("value");

                console.log(Nid+"提交的id");

                $("#info1").attr('action','Admin_saveUser.action').submit();

            }
        </script>

    </div></div></body></html>